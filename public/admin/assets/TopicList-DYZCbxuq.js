import{d as x,r as p,o as C,c as B,a as d,b as t,w as _,u as g,Q as T,ad as b,e as z,E as k}from"./index-BU7Eo9xm.js";import{E as y}from"./el-pagination-7W0xIYWE.js";import"./el-scrollbar-Cjw3bkZt.js";import"./el-select-kkF33hGk.js";import{E as N,a as F}from"./el-table-column-CVZQr0T1.js";import{E as V}from"./index-CEuKtwGG.js";import{E as A}from"./index-CZzwatfY.js";import"./index-COtfk0Lf.js";const D={class:"topic-list"},I={class:"page"},G=x({__name:"TopicList",setup(M){const c=p([]);let u=p(1),i=p(11),f=p(50);const v=(o,a)=>{let{tid:e}=a;V.confirm("是否删除这个题目?","提示",{distinguishCancelAndClose:!0,confirmButtonText:"确定",cancelButtonText:"取消"}).then(async()=>{await b.topicRemove({tid:e}).then(l=>{let{code:n,msg:s}=l;n!=200&&A.error(s)}),c.value.splice(o,1)}).catch(()=>{})},w=o=>{u.value=o,h(u.value,i.value)},h=async(o,a)=>{await b.topicItems({page:o,pageSize:a}).then(e=>{let{code:l,result:n,total:s}=e;if(l==200){let r=n.map((m,E)=>(m.index=E+1,m));c.value=r,f.value=s}})};return h(u.value,i.value),(o,a)=>{const e=F,l=k,n=N,s=y;return C(),B(T,null,[a[1]||(a[1]=d("h3",null,"题目列表1",-1)),d("div",D,[t(n,{data:c.value,stripe:"",style:{width:"100%"}},{default:_(()=>[t(e,{prop:"index",label:"序号",width:"70"}),t(e,{prop:"name",label:"试卷名称",width:"180"}),t(e,{prop:"question",label:"题目",width:"600"}),t(e,{prop:"answer",label:"答案",width:"80"}),t(e,{prop:"score",label:"分值",width:"100"}),t(e,{label:"操作"},{default:_(r=>[t(l,{size:"small",type:"danger",onClick:m=>v(r.$index,r.row)},{default:_(()=>a[0]||(a[0]=[z(" 删除 ")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),d("div",I,[t(s,{"page-size":g(i),"pager-count":g(i),total:g(f),onChange:w},null,8,["page-size","pager-count","total"])])],64)}}});export{G as default};
