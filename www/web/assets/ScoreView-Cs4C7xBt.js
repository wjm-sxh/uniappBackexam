import{d as T,r as f,c as p,a as s,u as n,F as h,e as C,b as v,w as g,j as $,k as D,f as b,o as u,g as c,t as a}from"./index-BxMPK5Cm.js";import{r as N}from"./request-Ci6WhDJZ.js";const L={class:"score"},V={key:0,class:"list"},z={class:"left"},B={class:"right"},M={key:1},j={class:"box"},A={class:"opt"},E={class:"opt"},F={class:"opt"},O={class:"opt"},R={class:"opt"},U={class:"opt"},q={class:"opt",style:{"text-align":"center",margin:"150px"}},J=T({__name:"ScoreView",setup(I){const w=D();let _=localStorage.getItem("AUTOTOKEN"),m=f([]),d=f(!1),i=f({});_&&N.examScoreList({token:_}).then(l=>{let{code:t,result:e}=l;t==200&&(m.value=e)});const x=l=>{let t=m.value.filter(e=>e.sid==l);i.value=t&&t[0],d.value=!0},k=()=>{w.replace({path:"/home/category"})},y=l=>{let t=0,e=0,o=0;return t=Math.floor(l/3600),e=Math.floor(l%3600/60),o=Math.floor(l%60),t=t<10?"0"+t:t,e=e<10?"0"+e:e,o=o<10?"0"+o:o,`${t}:${e}:${o}`},S=l=>{let t=new Date;t.setTime(l);let e=t.toLocaleDateString(),o=t.toLocaleTimeString();return`${e} ${o}`};return(l,t)=>{const e=b("van-button"),o=b("van-dialog");return u(),p("div",L,[t[12]||(t[12]=s("h4",null,"考试成绩",-1)),n(m)?(u(),p("ul",V,[(u(!0),p(h,null,C(n(m),r=>(u(),p("li",null,[s("div",z,[s("h3",null,[t[1]||(t[1]=c("考试名称： ")),s("span",null,a(r.name),1)]),s("div",null,[t[2]||(t[2]=c("得分: ")),s("span",null,a(r.score),1)])]),s("div",B,[v(e,{type:"success",onClick:K=>x(r.sid),size:"small"},{default:g(()=>t[3]||(t[3]=[c("查看详情")])),_:2},1032,["onClick"])])]))),256))])):(u(),p("div",M,t[4]||(t[4]=[s("p",{style:{color:"#ccc","text-align":"center",padding:"50px 0","font-size":"18px"}},"暂无考试成绩~~",-1)]))),v(o,{show:n(d),"onUpdate:show":t[0]||(t[0]=r=>$(d)?d.value=r:d=r),title:"考试成绩","show-cancel-button":""},{default:g(()=>[s("div",j,[s("div",A,[t[5]||(t[5]=s("span",{class:"label"},"用户:",-1)),s("span",null,a(n(i).nickName),1)]),s("div",E,[t[6]||(t[6]=s("span",{class:"label"},"答对: ",-1)),s("span",null,a(n(i).right2),1)]),s("div",F,[t[7]||(t[7]=s("span",{class:"label"},"答错: ",-1)),s("span",null,a(n(i).wrong),1)]),s("div",O,[t[8]||(t[8]=s("span",{class:"label"},"答题时间: ",-1)),s("span",null,a(S(n(i).createAt)),1)]),s("div",R,[t[9]||(t[9]=s("span",{class:"label"},"考了多久: ",-1)),s("span",null,a(y(n(i).time)),1)]),s("div",U,[t[10]||(t[10]=s("span",{class:"label"},"考试成绩: ",-1)),s("span",null,a(n(i).score),1)])])]),_:1},8,["show"]),s("div",q,[v(e,{onClick:k,plain:"",size:"small",type:"primary"},{default:g(()=>t[11]||(t[11]=[c("跳转首页")])),_:1})])])}}});export{J as default};
