import{S as ie,m as Z,k as oe}from"./isEqual-CJgsbmic.js";import{bI as ue,a3 as M,bJ as j,bK as V,aB as ce,bL as fe,bM as ve,bj as de,a4 as me,bH as pe,b as $,_ as D,a as N,J as ee,u as te,ad as he,j as y,y as A,ar as be,bE as H,as as K,o as P,v as I,p as re,C as ye,g as B,n as O,e as _,h as W,aF as ge,ay as Se,aN as we,c as ne,m as G,F as Ee,d as ze,aX as _e,R as x,bN as U,z as X,aG as Te,aE as Y,Y as Re,l as Le,bO as Ae,k as Ce,bz as xe,r as Pe,I as Oe,f as Me,az as Ne,w as ke}from"./index-PsrkDi4f.js";var He=/\s/;function Ie(e){for(var t=e.length;t--&&He.test(e.charAt(t)););return t}var Be=/^\s+/;function We(e){return e&&e.slice(0,Ie(e)+1).replace(Be,"")}var q=NaN,$e=/^[-+]0x[0-9a-f]+$/i,De=/^0b[01]+$/i,Fe=/^0o[0-7]+$/i,Ke=parseInt;function J(e){if(typeof e=="number")return e;if(ue(e))return q;if(M(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=M(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=We(e);var r=De.test(e);return r||Fe.test(e)?Ke(e.slice(2),r?2:8):$e.test(e)?q:+e}var Ge=1,Ue=2;function Xe(e,t,r,s){var i=r.length,d=i;if(e==null)return!d;for(e=Object(e);i--;){var u=r[i];if(u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<d;){u=r[i];var c=u[0],v=e[c],m=u[1];if(u[2]){if(v===void 0&&!(c in e))return!1}else{var o=new ie,l;if(!(l===void 0?Z(m,v,Ge|Ue,s,o):l))return!1}}return!0}function ae(e){return e===e&&!M(e)}function Ye(e){for(var t=oe(e),r=t.length;r--;){var s=t[r],i=e[s];t[r]=[s,i,ae(i)]}return t}function se(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}function qe(e){var t=Ye(e);return t.length==1&&t[0][2]?se(t[0][0],t[0][1]):function(r){return r===e||Xe(r,e,t)}}var Je=1,Qe=2;function Ze(e,t){return j(e)&&ae(t)?se(V(e),t):function(r){var s=ce(r,e);return s===void 0&&s===t?fe(r,e):Z(t,s,Je|Qe)}}function je(e){return function(t){return t==null?void 0:t[e]}}function Ve(e){return function(t){return ve(t,e)}}function et(e){return j(e)?je(V(e)):Ve(e)}function St(e){return typeof e=="function"?e:e==null?de:typeof e=="object"?me(e)?Ze(e[0],e[1]):qe(e):et(e)}var k=function(){return pe.Date.now()},tt="Expected a function",rt=Math.max,nt=Math.min;function wt(e,t,r){var s,i,d,u,c,v,m=0,o=!1,l=!1,f=!0;if(typeof e!="function")throw new TypeError(tt);t=J(t)||0,M(r)&&(o=!!r.leading,l="maxWait"in r,d=l?rt(J(r.maxWait)||0,t):d,f="trailing"in r?!!r.trailing:f);function h(a){var p=s,S=i;return s=i=void 0,m=a,u=e.apply(S,p),u}function w(a){return m=a,c=setTimeout(b,t),o?h(a):u}function T(a){var p=a-v,S=a-m,R=t-p;return l?nt(R,d-S):R}function E(a){var p=a-v,S=a-m;return v===void 0||p>=t||p<0||l&&S>=d}function b(){var a=k();if(E(a))return g(a);c=setTimeout(b,T(a))}function g(a){return c=void 0,f&&s?h(a):(s=i=void 0,u)}function C(){c!==void 0&&clearTimeout(c),m=0,s=v=i=c=void 0}function z(){return c===void 0?u:g(k())}function n(){var a=k(),p=E(a);if(s=arguments,i=this,v=a,p){if(c===void 0)return w(v);if(l)return clearTimeout(c),c=setTimeout(b,t),h(v)}return c===void 0&&(c=setTimeout(b,t)),u}return n.cancel=C,n.flush=z,n}const L=4,at={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},st=({move:e,size:t,bar:r})=>({[r.size]:t,transform:`translate${r.axis}(${e}%)`}),F=Symbol("scrollbarContextKey"),lt=$({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),it="Thumb",ot=N({__name:"thumb",props:lt,setup(e){const t=e,r=ee(F),s=te("scrollbar");r||he(it,"can not inject scrollbar context");const i=y(),d=y(),u=y({}),c=y(!1);let v=!1,m=!1,o=we?document.onselectstart:null;const l=A(()=>at[t.vertical?"vertical":"horizontal"]),f=A(()=>st({size:t.size,move:t.move,bar:l.value})),h=A(()=>i.value[l.value.offset]**2/r.wrapElement[l.value.scrollSize]/t.ratio/d.value[l.value.offset]),w=a=>{var p;if(a.stopPropagation(),a.ctrlKey||[1,2].includes(a.button))return;(p=window.getSelection())==null||p.removeAllRanges(),E(a);const S=a.currentTarget;S&&(u.value[l.value.axis]=S[l.value.offset]-(a[l.value.client]-S.getBoundingClientRect()[l.value.direction]))},T=a=>{if(!d.value||!i.value||!r.wrapElement)return;const p=Math.abs(a.target.getBoundingClientRect()[l.value.direction]-a[l.value.client]),S=d.value[l.value.offset]/2,R=(p-S)*100*h.value/i.value[l.value.offset];r.wrapElement[l.value.scroll]=R*r.wrapElement[l.value.scrollSize]/100},E=a=>{a.stopImmediatePropagation(),v=!0,document.addEventListener("mousemove",b),document.addEventListener("mouseup",g),o=document.onselectstart,document.onselectstart=()=>!1},b=a=>{if(!i.value||!d.value||v===!1)return;const p=u.value[l.value.axis];if(!p)return;const S=(i.value.getBoundingClientRect()[l.value.direction]-a[l.value.client])*-1,R=d.value[l.value.offset]-p,le=(S-R)*100*h.value/i.value[l.value.offset];r.wrapElement[l.value.scroll]=le*r.wrapElement[l.value.scrollSize]/100},g=()=>{v=!1,u.value[l.value.axis]=0,document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",g),n(),m&&(c.value=!1)},C=()=>{m=!1,c.value=!!t.size},z=()=>{m=!0,c.value=v};be(()=>{n(),document.removeEventListener("mouseup",g)});const n=()=>{document.onselectstart!==o&&(document.onselectstart=o)};return H(K(r,"scrollbarElement"),"mousemove",C),H(K(r,"scrollbarElement"),"mouseleave",z),(a,p)=>(P(),I(Se,{name:_(s).b("fade"),persisted:""},{default:re(()=>[ye(B("div",{ref_key:"instance",ref:i,class:O([_(s).e("bar"),_(s).is(_(l).key)]),onMousedown:T},[B("div",{ref_key:"thumb",ref:d,class:O(_(s).e("thumb")),style:W(_(f)),onMousedown:w},null,38)],34),[[ge,a.always||c.value]])]),_:1},8,["name"]))}});var Q=D(ot,[["__file","thumb.vue"]]);const ut=$({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),ct=N({__name:"bar",props:ut,setup(e,{expose:t}){const r=e,s=ee(F),i=y(0),d=y(0),u=y(""),c=y(""),v=y(1),m=y(1);return t({handleScroll:f=>{if(f){const h=f.offsetHeight-L,w=f.offsetWidth-L;d.value=f.scrollTop*100/h*v.value,i.value=f.scrollLeft*100/w*m.value}},update:()=>{const f=s==null?void 0:s.wrapElement;if(!f)return;const h=f.offsetHeight-L,w=f.offsetWidth-L,T=h**2/f.scrollHeight,E=w**2/f.scrollWidth,b=Math.max(T,r.minSize),g=Math.max(E,r.minSize);v.value=T/(h-T)/(b/(h-b)),m.value=E/(w-E)/(g/(w-g)),c.value=b+L<h?`${b}px`:"",u.value=g+L<w?`${g}px`:""}}),(f,h)=>(P(),ne(Ee,null,[G(Q,{move:i.value,ratio:m.value,size:u.value,always:f.always},null,8,["move","ratio","size","always"]),G(Q,{move:d.value,ratio:v.value,size:c.value,vertical:"",always:f.always},null,8,["move","ratio","size","always"])],64))}});var ft=D(ct,[["__file","bar.vue"]]);const vt=$({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:ze([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,..._e(["ariaLabel","ariaOrientation"])}),dt={scroll:({scrollTop:e,scrollLeft:t})=>[e,t].every(x)},mt="ElScrollbar",pt=N({name:mt}),ht=N({...pt,props:vt,emits:dt,setup(e,{expose:t,emit:r}){const s=e,i=te("scrollbar");let d,u,c=0,v=0;const m=y(),o=y(),l=y(),f=y(),h=A(()=>{const n={};return s.height&&(n.height=U(s.height)),s.maxHeight&&(n.maxHeight=U(s.maxHeight)),[s.wrapStyle,n]}),w=A(()=>[s.wrapClass,i.e("wrap"),{[i.em("wrap","hidden-default")]:!s.native}]),T=A(()=>[i.e("view"),s.viewClass]),E=()=>{var n;o.value&&((n=f.value)==null||n.handleScroll(o.value),c=o.value.scrollTop,v=o.value.scrollLeft,r("scroll",{scrollTop:o.value.scrollTop,scrollLeft:o.value.scrollLeft}))};function b(n,a){Ne(n)?o.value.scrollTo(n):x(n)&&x(a)&&o.value.scrollTo(n,a)}const g=n=>{x(n)&&(o.value.scrollTop=n)},C=n=>{x(n)&&(o.value.scrollLeft=n)},z=()=>{var n;(n=f.value)==null||n.update()};return X(()=>s.noresize,n=>{n?(d==null||d(),u==null||u()):({stop:d}=Te(l,z),u=H("resize",z))},{immediate:!0}),X(()=>[s.maxHeight,s.height],()=>{s.native||Y(()=>{var n;z(),o.value&&((n=f.value)==null||n.handleScroll(o.value))})}),Re(F,Le({scrollbarElement:m,wrapElement:o})),Ae(()=>{o.value&&(o.value.scrollTop=c,o.value.scrollLeft=v)}),Ce(()=>{s.native||Y(()=>{z()})}),xe(()=>z()),t({wrapRef:o,update:z,scrollTo:b,setScrollTop:g,setScrollLeft:C,handleScroll:E}),(n,a)=>(P(),ne("div",{ref_key:"scrollbarRef",ref:m,class:O(_(i).b())},[B("div",{ref_key:"wrapRef",ref:o,class:O(_(w)),style:W(_(h)),tabindex:n.tabindex,onScroll:E},[(P(),I(Oe(n.tag),{id:n.id,ref_key:"resizeRef",ref:l,class:O(_(T)),style:W(n.viewStyle),role:n.role,"aria-label":n.ariaLabel,"aria-orientation":n.ariaOrientation},{default:re(()=>[Pe(n.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),n.native?Me("v-if",!0):(P(),I(ft,{key:0,ref_key:"barRef",ref:f,always:n.always,"min-size":n.minSize},null,8,["always","min-size"]))],2))}});var bt=D(ht,[["__file","scrollbar.vue"]]);const Et=ke(bt);export{Et as E,St as b,wt as d};
