import{a as x,j as p,o as B,c as C,g as d,m as t,p as _,e as g,F as k,B as b,i as z,E as N}from"./index-PsrkDi4f.js";import{E as T}from"./el-pagination-orgjTSk1.js";import"./el-scrollbar-BVndcwmd.js";import"./el-select-lkdsic8F.js";import{E as y,a as F}from"./el-table-column-DxxjLTlZ.js";import{E as A}from"./index-CNT-Lsf8.js";import{E as S}from"./index-2NzJ_tzg.js";import"./isEqual-CJgsbmic.js";import"./index-B8WeAn_N.js";import"./_initCloneObject-9ZjZV-aK.js";const V={class:"score-list"},D={class:"page"},L=x({__name:"Score",setup(I){const c=p([]);let m=p(1),r=p(11),h=p(50);const w=(o,a)=>{let{tid:e}=a;A.confirm("是否删除这个成绩?","提示",{distinguishCancelAndClose:!0,confirmButtonText:"确定",cancelButtonText:"取消"}).then(async()=>{await b.scoreRemove({tid:e}).then(l=>{let{code:n,msg:s}=l;n!=200&&S.error(s)}),c.value.splice(o,1)}).catch(()=>{})},v=o=>{m.value=o,f(m.value,r.value)},f=async(o,a)=>{await b.scoreItems({page:o,pageSize:a}).then(e=>{let{code:l,result:n,total:s}=e;if(l==200){let i=n.map((u,E)=>(u.index=E+1,u));c.value=i,h.value=s}})};return f(m.value,r.value),(o,a)=>{const e=F,l=N,n=y,s=T;return B(),C(k,null,[a[1]||(a[1]=d("h3",null,"成绩列表",-1)),d("div",V,[t(n,{data:c.value,stripe:"",style:{width:"100%"}},{default:_(()=>[t(e,{prop:"index",label:"序号",width:"70"}),t(e,{prop:"name",label:"试卷名称",width:"180"}),t(e,{prop:"account",label:"账号",width:"200"}),t(e,{prop:"nickName",label:"昵称",width:"80"}),t(e,{prop:"score",label:"成绩",width:"100"}),t(e,{prop:"right2",label:"答对",width:"100"}),t(e,{prop:"wrong",label:"答错",width:"100"}),t(e,{prop:"createAt",label:"考试时间（时间戳）",width:"180"}),t(e,{label:"操作"},{default:_(i=>[t(l,{size:"small",type:"danger",onClick:u=>w(i.$index,i.row)},{default:_(()=>a[0]||(a[0]=[z(" 删除 ")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),d("div",D,[t(s,{"page-size":g(r),"pager-count":g(r),total:g(h),onChange:v},null,8,["page-size","pager-count","total"])])],64)}}});export{L as default};
